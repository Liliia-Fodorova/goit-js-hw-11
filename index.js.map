{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"54644062-931f8757c3983fa8d6dda8238\";\n\nexport function getImagesByQuery(query) {\n    console.log(query); \n    // delete\n    return axios.get(BASE_URL, {\n        params: {\n            key:API_KEY,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        },\n    })\n        .then(response => {\n            console.log(response.data);\n            // delete\n            return response.data;\n        });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.css';\n\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nexport function createGallery(images) {\n    // delete\n    console.log(images);\n    console.log(images.length);\n\n    const markup = images.map(image => `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\">\n                <img src=\"${image.webformatURL}\"\n                    alt=\"${image.tags}\"\n                    loading=\"lazy\"/>\n            </a>\n            <div class=\"info\">\n                <p><strong>Likes</strong> ${image.likes}</p>\n                <p><strong>Views</strong> ${image.views}</p>\n                <p><strong>Comments</strong> ${image.comments}</p>\n                <p><strong>Downloads</strong> ${image.downloads}</p>\n            </div>\n        </li>\n        \n    `).join('');\n    galleryEl.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  loaderEl.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  loaderEl.classList.add('is-hidden');\n}","import './css/styles.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n    createGallery,\n    clearGallery,\n    showLoader,\n    hideLoader\n} from './js/render-functions.js';\n\nimport iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst fromEl = document.querySelector('.form');\n\nfromEl.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n\n    const query = event.target.elements['search-text'].value.trim();\n\n    if (query === '') {\n        iziToast.warning({\n            message: 'Please enter a search query!',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    getImagesByQuery(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return;\n            }\n            createGallery(data.hits);\n        })\n        .catch (() => {\n        iziToast.error({\n            message: 'Something went wrong. Please try again later.',\n            position: 'topRight',\n        });\n    })\n    .finally(() => {\n        hideLoader();\n    });\n\n    fromEl.reset();\n}"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","axios","response","galleryEl","loaderEl","lightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","fromEl","onFormSubmit","event","iziToast","data"],"mappings":"+vBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,eAAQ,IAAIA,CAAK,EAEVC,EAAM,IAAIJ,EAAU,CACvB,OAAQ,CACJ,IAAIC,EACJ,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAKE,IACF,QAAQ,IAAIA,EAAS,IAAI,EAElBA,EAAS,KACnB,CACT,CCnBA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAElC,QAAQ,IAAIA,CAAM,EAClB,QAAQ,IAAIA,EAAO,MAAM,EAEzB,MAAMC,EAASD,EAAO,IAAIE,GAAS;AAAA;AAAA,uBAEhBA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY;AAAA,2BACnBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,4CAIOA,EAAM,KAAK;AAAA,4CACXA,EAAM,KAAK;AAAA,+CACRA,EAAM,QAAQ;AAAA,gDACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAI1D,EAAE,KAAK,EAAE,EACVP,EAAU,mBAAmB,YAAaM,CAAM,EAChDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC7BR,EAAU,UAAY,EACxB,CAEO,SAASS,GAAa,CAC3BR,EAAS,UAAU,OAAO,WAAW,CACvC,CAEO,SAASS,GAAa,CAC3BT,EAAS,UAAU,IAAI,WAAW,CACpC,CCjCA,MAAMU,EAAS,SAAS,cAAc,OAAO,EAE7CA,EAAO,iBAAiB,SAAUC,CAAY,EAE9C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMhB,EAAQgB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAEzD,GAAIhB,IAAU,GAAI,CACdiB,EAAS,QAAQ,CACb,QAAS,+BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDN,IACAC,IAEAb,EAAiBC,CAAK,EACjB,KAAKkB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDV,EAAcW,EAAK,IAAI,CACnC,CAAS,EACA,MAAO,IAAM,CACdD,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,UACtB,CAAS,CACT,CAAK,EACA,QAAQ,IAAM,CACXJ,GACR,CAAK,EAEDC,EAAO,MAAK,CAChB"}